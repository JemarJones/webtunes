function drawBubble(){$.post("../getBubbleData",{user:user}).done(function(t){$("#visualization").html("")
var e=960,n=d3.format(",d"),a=d3.scale.category20c(),r=d3.layout.pack().sort(null).size([e,e]).padding(1.5),l=d3.select("#visualization").append("svg").attr("width",e).attr("height",e).attr("class","bubble"),s=l.selectAll(".node").data(r.nodes(classes(t)).filter(function(t){return!t.children})).enter().append("g").attr("class","node").attr("transform",function(t){return"translate("+t.x+","+t.y+")"})
s.append("title").text(function(t){return t.className+": "+n(t.value)}),s.append("circle").attr("r",function(t){return t.r}).style("fill",function(t,e){return a(e)}),s.append("text").attr("dy",".3em").style("text-anchor","middle").text(function(t){return t.className.substring(0,t.r/3)}),d3.select(self.frameElement).style("height",e+"px")})}function classes(t){function e(t,a){a.children?a.children.forEach(function(t){e(a.name,t)}):n.push({packageName:t,className:a.name,value:a.size})}var n=[]
return e(null,t),{children:n}}